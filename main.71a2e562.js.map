{"version":3,"sources":["scripts/main.js"],"names":["previousClickedElement","table","document","querySelector","thead","sortTable","e","clickedElement","target","classList","toggle","remove","clickedElementRow","indexOfSortedColumn","parentElement","children","findIndex","item","textContent","tbodyCurrent","rows","querySelectorAll","sort","a","b","firsElem","secondElem","isFinite","replace","matches","tbodySorted","createElement","elem","append","after","addEventListener","tagName","activeClass","add","form","createNotification","notification","errors","typeOfNotification","title","notificationBlock","setAttribute","body","dataValidation","data","field","length","push","test","salary","slice","dataInMessage","isNaN","filter","symbol","toFixed","formValidate","formData","name","position","age","cellEdit","enteredValue","innerText","fieldIndex","trim","insertAdjacentHTML","fieldContent","p","Object","values","preventDefault","FormData","fromEntries","entries","error","newRow","office","select","value","cell","cellText","cellTag","i","firstChild","newText","officeSelect","onblur","even","code","blur","input","focus","oninput","resultedText","setTimeout"],"mappings":"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","file":"main.71a2e562.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst table = document.querySelector('table');\n\n// ------- sorting ----------------\n\nconst thead = table.querySelector('thead');\n\nthead.addEventListener('click', sortTable);\n\nlet previousClickedElement;\n\nfunction sortTable(e) {\n  const clickedElement = e.target;\n\n  if (previousClickedElement === e.target) {\n    table.classList.toggle('sortDirectionDESC');\n  } else {\n    table.classList.remove('sortDirectionDESC');\n  }\n\n  previousClickedElement = e.target;\n\n  const clickedElementRow = [...clickedElement.parentElement.children];\n\n  const indexOfSortedColumn = clickedElementRow.findIndex(\n    (item) => item.textContent === clickedElement.textContent);\n\n  const tbodyCurrent = table.querySelector('tbody');\n\n  const rows = [...tbodyCurrent.querySelectorAll('tr')];\n\n  rows.sort((a, b) => {\n    let firsElem = a.children[indexOfSortedColumn].textContent;\n    let secondElem = b.children[indexOfSortedColumn].textContent;\n\n    if (firsElem[0] === '$') {\n      firsElem = +firsElem.replace('$', '').replace(',', '.');\n      secondElem = +secondElem.replace('$', '').replace(',', '.');\n    }\n\n    if (isFinite(firsElem)) {\n      if (table.matches('.sortDirectionDESC')) {\n        return +firsElem < +secondElem ? 1 : -1;\n      }\n\n      return +firsElem > +secondElem ? 1 : -1;\n    } else {\n      if (table.matches('.sortDirectionDESC')) {\n        return firsElem < secondElem ? 1 : -1;\n      }\n\n      return firsElem > secondElem ? 1 : -1;\n    }\n  });\n\n  const tbodySorted = document.createElement('tbody');\n\n  for (const elem of rows) {\n    tbodySorted.append(elem);\n  }\n\n  tbodyCurrent.remove();\n\n  thead.after(tbodySorted);\n}\n\n// ------- row selection ----------------\n\ntable.addEventListener('click', (e) => {\n  if (e.target.tagName === 'TH') {\n    return;\n  }\n\n  const activeClass = table.querySelector('.active');\n\n  if (activeClass !== null) {\n    activeClass.classList.remove('active');\n  }\n\n  e.target.parentElement.classList.add('active');\n});\n\n// ------- add form ----------------\n\nconst form = document.createElement('form');\n\nform.classList.add('new-employee-form');\n\nform.insertAdjacentHTML('afterbegin',\n  `<label>Name: <input name=\"name\" type=\"text\" data-qa=\"name\"></label>\n  <label>Position: <input name=\"position\"\n    type=\"text\" data-qa=\"position\"></label>\n  <label>Office:\n    <select name=\"office\" type=\"text\" data-qa=\"office\">\n      <option value='Tokyo'>Tokyo</option>\n      <option value='Singapore'>Singapore</option>\n      <option value='London'>London</option>\n      <option value='New York'>New York</option>\n      <option value='Edinburgh'>Edinburgh</option>\n      <option value='San Francisco'>San Francisco</option>\n    </select>\n   </label>\n  <label>Age: <input name=\"age\" type=\"text\" data-qa=\"age\"></label>\n  <label>Salary: <input name=\"salary\" type=\"text\" data-qa=\"salary\"></label>\n  <button type=\"submit\">Save to table</button>`\n);\n\ndocument.body.append(form);\n\n// ------- create notifications----------------\n\nfunction createNotification() {\n  if (document.querySelector('.notification')) {\n    document.querySelector('.notification').remove();\n  }\n\n  const notification = {\n    errors: [],\n    typeOfNotification: 'success',\n    title: 'Success!',\n    notificationBlock: document.createElement('div'),\n  };\n\n  notification.notificationBlock.classList.add(\n    'notification',\n  );\n\n  notification.notificationBlock.setAttribute('data-qa', 'notification');\n\n  document.body.append(notification.notificationBlock);\n\n  return notification;\n}\n\n// ------- data validation ----------------\n\nfunction dataValidation(data, notification) {\n  for (const field in data) {\n    if (field === 'name') {\n      if (data[field].length < 4) {\n        notification.errors.push(\n          `The name must contain more than 4 letters!</br>\n          You entered <strong>${data[field].length}</strong>.`\n        );\n      }\n\n      if (/[0-9]/.test(data[field])) {\n        notification.errors.push(\n          `Name can't contain numbers!</br>\n          You entered <strong>${data[field]}</strong>.`\n        );\n      }\n    }\n\n    if (field === 'position') {\n      if (/[0-9]/.test(data[field])) {\n        notification.errors.push(\n          `Name can't contain numbers!</br>\n          You entered <strong>${data[field]}</strong>.`\n        );\n      }\n    }\n\n    if (field === 'age') {\n      if (data[field] < 18 || data[field] > 90) {\n        notification.errors.push(\n          `Age must be between 18 and 90!</br>\n          You entered <strong>${data[field]}</strong>.`\n        );\n      }\n\n      if (!+data[field]) {\n        notification.errors.push(\n          `Age must be a number!</br>\n          You entered <strong>${data[field]}</strong>.`\n        );\n      }\n    }\n\n    if (field === 'salary') {\n      let salary = data[field].replace(',', '.');\n\n      if (salary[0] === '$') {\n        salary = +salary.slice(1);\n      }\n\n      if (!+salary) {\n        let dataInMessage = salary;\n\n        if (isNaN(salary)) {\n          dataInMessage = data[field];\n\n          const extraPunctuation = [...data[field]].filter(symbol => {\n            if (symbol === ',' || symbol === '.') {\n              return symbol;\n            }\n          });\n\n          if (extraPunctuation.length > 1) {\n            notification.errors.push(\n              `Salary must contain only one dot or comma!</br>\n              You entered too manyof them: <strong>${dataInMessage}</strong>.`\n            );\n          } else {\n            notification.errors.push(\n              `Salary must be a number!</br>\n              You entered <strong>${dataInMessage}</strong>.`\n            );\n          }\n        }\n      }\n\n      salary = '$' + (+salary).toFixed(3).replace('.', ',');\n      data[field] = salary;\n    }\n  }\n}\n\n// ------- form validation ----------------\n\nfunction formValidate(formData, notification) {\n  if (formData.name.length === 0\n    || formData.position.length === 0\n    || formData.age.length === 0\n    || formData.salary.length === 0) {\n    notification.errors.push(\n      `All fields are required!</br>\n       Please fill out the form completely.`\n    );\n\n    notification.typeOfNotification = 'warning';\n    notification.title = 'Warning!';\n\n    return;\n  }\n\n  dataValidation(formData, notification);\n\n  if (notification.errors.length > 0) {\n    notification.typeOfNotification = 'error';\n    notification.title = 'Error!';\n  }\n}\n\n// ------- form actions ----------------\n\nform.addEventListener('submit', (e) => {\n  e.preventDefault();\n\n  const data = new FormData(form);\n\n  const formData = Object.fromEntries(data.entries());\n\n  const notification = createNotification();\n  const notificationBlock = notification.notificationBlock;\n\n  formValidate(formData, notification);\n\n  if (notification.errors.length > 0) {\n    for (const error of notification.errors) {\n      const p = document.createElement('p');\n\n      p.insertAdjacentHTML('beforeend',\n        `${error}`);\n\n      notificationBlock.append(p);\n    }\n  }\n\n  notificationBlock.classList.add(\n    notification.typeOfNotification\n  );\n\n  notificationBlock.insertAdjacentHTML('afterbegin',\n    `<h2 class=\"title\">${notification.title}</h2>`\n  );\n\n  if (notification.errors.length === 0) {\n    const newRow = document.createElement('tr');\n\n    newRow.insertAdjacentHTML('afterbegin', `\n      <td>${formData.name}</td>\n      <td>${formData.position}</td>\n      <td>${formData.office}</td>\n      <td>${formData.age}</td>\n      <td>${formData.salary}</td>\n    `);\n\n    const tbodyForAddNewRow = table.querySelector('tbody');\n\n    tbodyForAddNewRow.append(newRow);\n  }\n});\n\n// ------- editing the table ----------------\n\nfunction cellEdit(enteredValue, innerText, fieldIndex) {\n  if (enteredValue.length === 0) {\n    return innerText;\n  }\n\n  if (enteredValue.trim().length === 0) {\n    /* eslint-disable-next-line */\n    const notification = createNotification();\n\n    notification.notificationBlock.classList.add('error');\n\n    notification.notificationBlock.insertAdjacentHTML('beforeend',\n      `<h2 class=\"title\">Error!</h2>\n     Cell can't be empty.\n    `);\n\n    return innerText;\n  }\n\n  const fieldContent = {};\n\n  switch (fieldIndex) {\n    case 0 :\n      fieldContent.name = enteredValue;\n      break;\n\n    case 1 :\n      fieldContent.position = enteredValue;\n      break;\n\n    case 3 :\n      fieldContent.age = enteredValue;\n      break;\n\n    case 4 :\n      fieldContent.salary = enteredValue;\n  }\n\n  const notification = createNotification();\n\n  dataValidation(fieldContent, notification);\n\n  if (notification.errors.length > 0) {\n    notification.typeOfNotification = 'error';\n    notification.title = 'Error!';\n\n    const p = document.createElement('p');\n\n    p.insertAdjacentHTML('beforeend',\n      `${notification.errors[0]}`);\n\n    notification.notificationBlock.append(p);\n\n    notification.notificationBlock.classList.add(\n      notification.typeOfNotification\n    );\n\n    notification.notificationBlock.insertAdjacentHTML('afterbegin',\n      `<h2 class=\"title\">${notification.title}</h2>`\n    );\n\n    return innerText;\n  }\n\n  document.querySelector('.notification').remove();\n\n  return Object.values(fieldContent);\n}\n\ntable.addEventListener('click', (e) => {\n  const select = table.querySelector('[name=\"office\"]');\n\n  if (select && e.target !== select) {\n    select.parentElement.textContent = select.value;\n    select.remove();\n  }\n});\n\ntable.addEventListener('dblclick', (e) => {\n  const cell = e.target;\n\n  if (table.querySelector('[name=\"office\"]')) {\n    return;\n  }\n\n  const cellText = cell.textContent;\n\n  const cellTag = cell.parentElement.parentElement.tagName;\n\n  if (cellTag === 'THEAD' || cellTag === 'TFOOT') {\n    return;\n  }\n\n  const fieldIndex = [...cell.parentElement.querySelectorAll('td')]\n    .findIndex(i => i === cell);\n\n  const innerText = cell.firstChild;\n\n  innerText.remove();\n\n  let newText = '';\n\n  if (fieldIndex === 2) {\n    cell.innerText = '';\n\n    cell.insertAdjacentHTML('beforeend', `\n    <select name=\"office\" type=\"text\"\n    style=\"box-sizing: border-box; border: none; border-radius: 4px;\n    color: #808080; padding: 0; background: none;\n    font-family: sans-serif; font-size: 16px; outline: none;\">\n          <option value='${cellText}'>${cellText}</option>\n          <option value='Tokyo'>Tokyo</option>\n          <option value='Singapore'>Singapore</option>\n          <option value='London'>London</option>\n          <option value='New York'>New York</option>\n          <option value='Edinburgh'>Edinburgh</option>\n          <option value='San Francisco'>San Francisco</option>\n    </select>\n  `);\n\n    const officeSelect = document.querySelector('[name=\"office\"]');\n\n    officeSelect.onblur = () => {\n      newText = officeSelect.value;\n\n      cell.textContent = newText;\n      officeSelect.remove();\n    };\n\n    officeSelect.addEventListener('keydown', (even) => {\n      if (even.code === 'Enter') {\n        officeSelect.blur();\n      }\n    });\n  } else {\n    const input = document.createElement('input');\n\n    input.value = cellText;\n    input.classList.add('cell-input');\n\n    cell.append(input);\n    input.focus();\n\n    input.oninput = () => {\n      newText = input.value;\n    };\n\n    input.onblur = () => {\n      const resultedText = cellEdit(newText, cellText, fieldIndex);\n\n      setTimeout(() => {\n        if (document.querySelector('.notification')) {\n          document.querySelector('.notification').remove();\n        }\n      }, 3000);\n\n      cell.append(resultedText);\n\n      input.remove();\n    };\n\n    input.addEventListener('keydown', (even) => {\n      if (even.code === 'Enter') {\n        input.blur();\n      }\n    });\n  }\n});\n"]}